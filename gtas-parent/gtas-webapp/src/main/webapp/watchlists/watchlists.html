<style>
    .actions {
        text-align: center;
    }

    .ui-grid-viewport {
        min-height: 330px !important;
    }

    .ui-grid-cell {
        text-transform: uppercase;
    }

    .glyphicon-remove {
        cursor: pointer;
    }

    md-input-container {
        display: inline-block;
        text-align: left;
        width: 300px;
    }

    form {
        padding: 2em 2em 0;
    }
</style>
<md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="save">
    <md-toolbar class="md-theme-light">
        <h2 class="md-toolbar-tools">{{getSaveStateText(activeTab)}} {{activeTab}}</h2>
    </md-toolbar>
    <form name="watchlist" ng-submit="saveRow()">
        <md-input-container ng-if="activeTab == 'Document'">
            <label>Document Type:</label>
            <md-select ng-model="Document.documentType" required>
                <md-option ng-repeat="docType in documentTypes" value="{{docType.id}}">
                    {{docType.label}}
                </md-option>
            </md-select>
        </md-input-container>
        <md-input-container ng-if="activeTab == 'Document'">
            <label for="documentNumber">Document Number:</label>
            <input id="documentNumber" ng-model="Document.documentNumber" required/>
        </md-input-container>
        <label for="dobDO">Date of Birth:</label>
        <md-datepicker ng-if="activeTab == 'Passenger'" ng-model="Passenger.dobDateObject"
                       id="dobDO" required></md-datepicker>
        <md-input-container ng-if="activeTab == 'Passenger'">
            <label for="passengerFirstName">First Name:</label>
            <input id="passengerFirstName" ng-model="Passenger.firstName" required>
        </md-input-container>
        <md-input-container ng-if="activeTab == 'Passenger'">
            <label for="passengerLastName">Last Name:</label>
            <input id="passengerLastName" ng-model="Passenger.lastName" required>
        </md-input-container>
        <div class="actions">
            <md-button type="button"
                       ng-if="$scope[$scope.activeTab].id !== null"
                       class="md-raised md-warn pull-left"
                       ng-click="removeRow()"
                       ng-disabled="rowSelected === null">
                <span class="glyphicon glyphicon-remove"></span> Remove
            </md-button>
            <md-button class="md-raised md-primary pull-right" type="submit">
                <i class="glyphicon glyphicon-save"></i><i class="glyphicon glyphicon-eye-open"></i> {{getSaveStateText(activeTab)}}
            </md-button>
        </div>
    </form>
</md-sidenav>
<md-tabs>
    <md-tab ng-repeat="tab in tabs" label="{{tab.title}}" md-on-select="updateGrid(tab.title)"></md-tab>
</md-tabs>
<div ui-grid="watchlistGrid" ui-grid-pagination ui-grid-selection ui-grid-exporter class="grid" external-scopes="$scope"></div>
<div class="actions">
    <md-button ng-click="removeRows()"
               ng-disabled="disableTrash"
               class="md-raised md-warn pull-left">
        <md-tooltip>Selected {{activeTab}}(s)</md-tooltip>
        <i class="glyphicon glyphicon-trash"></i><i class="glyphicon glyphicon-{{icon}}"></i>
    </md-button>
    <md-button ng-click="updateWatchlistService()"
               ng-disabled="updating === true"
               class="md-raised md-primary pull-right">
        <md-tooltip>Watchlist Service</md-tooltip>
        <i class="glyphicon glyphicon-cloud-upload"></i> <i class="glyphicon glyphicon-cloud-download"></i> Sync
    </md-button>
    <md-button ng-click="Add()"
               class="md-raised pull-right">
        <md-tooltip>Add {{activeTab}}</md-tooltip>
        <i class="glyphicon glyphicon-plus"></i><i class="glyphicon glyphicon-{{icon}}"></i>
    </md-button>
</div>
<div>
    <spinner name="html5spinner" ng-cloak="">
        <div class="overlay"></div>
        <div class="spinner">
            <div class="double-bounce1"></div>
            <div class="double-bounce2"></div>
        </div>
        <div class="please-wait">Please Wait...</div>
    </spinner>
</div>
