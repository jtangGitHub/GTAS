<div align="center" ng-show="loading" class="jumbotron" style="background-color: #FFFFFF">
	<svg width="300%" height="50%" viewBox="0 0 900 350">
		<text x="11%" y="30%" fill="navy">PLEASE WAIT...</text>
		<path id="motionPath" fill="none" stroke="#777" stroke-miterlimit="20" d="
        M 150, 100
        m -75, 0
        a 75,75 0 1,0 150,0
        a 75,75 0 1,0 -150,0
        "/>
		<g id="plane" style="" transform="scale(0.05, 0.05) translate(0,20) rotate(-133 100 100)">
			<defs id="defs0" />
			<path
					d="M 439.48098,95.969555 L 393.34268,142.46481 L 305.91233,133.41187 L 324.72376,114.58551 L 308.61525,98.464215 L 276.15845,130.94677 L 185.25346,123.08136 L 201.15145,107.27643 L 186.46085,92.574165 L 158.32,120.73735 L 45.386032,112.12042 L 15.000017,131.66667 L 221.20641,192.48691 L 298.26133,237.01135 L 191.91028,345.62828 L 152.82697,408.6082 L 41.549634,393.05411 L 21.037984,413.58203 L 109.25334,470.93369 L 166.38515,558.95725 L 186.8968,538.42933 L 171.35503,427.06371 L 234.28504,387.94939 L 342.81586,281.51396 L 387.305,358.63003 L 448.07703,565.00001 L 467.60778,534.58989 L 458.99769,421.56633 L 487.16033,393.38134 L 473.14247,379.35235 L 456.6139,395.97492 L 448.79636,303.63439 L 481.25315,271.15184 L 465.14464,255.03055 L 446.33321,273.8569 L 436.04766,185.1164 L 482.35108,138.7864 C 501.1942,119.92833 560.62425,61.834815 564.99998,14.999985 C 515.28999,23.707295 476.1521,61.495405 439.48098,95.969555 z "
					style="opacity:1;color:#000000;fill:#000057;fill-opacity:1;fill-rule:nonzero;stroke:none;marker:none;visibility:visible;display:inline;overflow:visible"
					id="path1" />
		</g>

		<animateMotion
				xlink:href="#plane"
				dur="5s"
				begin="0s"
				fill="freeze"
				repeatCount="indefinite"
				rotate="auto-reverse">
			<mpath xlink:href="#motionPath" />
		</animateMotion>
	</svg>
</div>

<div ng-hide="loading">

<h4>
	<span class="glyphicon glyphicon-plane glyphiconFlightPax img-circle"></span> Flights
</h4>

<button ng-click="tableParams.sorting({})"
	class="btn btn-default pull-right">Clear sorting</button>
<button ng-click="tableParams.filter({})"
	class="btn btn-default pull-right">Clear filter</button>
<table id="flightTable" template-pagination="custom/pager"
	ng-table="tableParams" show-filter="true" class="table table-condensed">

	<!-- class="accordion-toggle" -->

	<tbody ng-repeat="flight in $data track by $index"
		style="border-collapse: collapse;" ng-controller="PaxController">

		<tr ng-click="getPaxInfo(flight.flightId, $index);"
			data-toggle="collapse" data-target="#demo{{$index}}"
			style="cursor: pointer;" aria-expanded="false"
			aria-controls="demo{{$index}}">

			<td data-title="'P'" sortable="'P'" filter="{ 'P': 'select' }">{{flight.totalPax}}</td>
			<td data-title="'Hits'" sortable="'hits'" filter="{ 'hits': 'select' }">{{flight.ruleHits}}</td>
			<td data-title="'Carrier'" sortable="'carrier'"
				filter="{ 'carrier': 'select' }"
				filter-data="values($column, 'carrier')">{{flight.carrier}}</td>
			<td data-title="'Flight #'" sortable="'flightNumber'"
				filter="{ 'flightNumber': 'text' }">{{flight.flightNumber}}</td>
			<td data-title="'Origin'" sortable="'origin'"
				filter="{ 'origin': 'select' }"
				filter-data="values($column, 'origin')">{{flight.origin}}</td>
			<td data-title="'Country'" sortable="'originCountry'"
				filter="{ 'originCountry': 'select' }"
				filter-data="values($column, 'originCountry')">{{flight.originCountry}}</td>
			<td data-title="'ETD'" sortable="'etd'" filter="{ 'etd': 'text' }">{{flight.etd}}</td>
			<td data-title="'Destination'" sortable="'destination'"
				filter="{ 'destination': 'select' }"
				filter-data="values($column, 'destination')">{{flight.destination}}</td>
			<td data-title="'Country'" sortable="'destinationCountry'"
				filter="{ 'destinationCountry': 'select' }"
				filter-data="values($column, 'destinationCountry')">{{flight.destinationCountry}}</td>
			<td data-title="'ETA'" sortable="'eta'" filter="{ 'eta': 'text' }">{{flight.eta}}</td>
		</tr>

		<tr>
			<td colspan="12" class="hiddenRow">
				<!--  class="accordian-body collapse"  -->
				<div class="accordian-body collapse" id="demo{{$index}}"
					style="border-collapse: collapse; width: 100%;">
					<h4 style="font-size: 18px;" align="left">
						<span class="glyphicon glyphicon-user glyphiconFlightPax img-circle"></span>
						Passengers on Flight - {{flight.flightNumber}}
					</h4>
					<table id="paxTable" ng-table="tableParams" show-filter="false"
						class="table table-condensed table-hover">
						<thead>
							<tr>
								<th></th>
								<th>R</th>
								<th>L</th>
								<th>Last Name</th>
								<th>First Name</th>
								<th>Middle Name</th>
								<th>Pax Type</th>
								<th>Gender</th>
								<th>DOB</th>
								<th>Citizenship</th>
								<th>Document #</th>
								<th>T</th>
								<th>Issuance Country</th>
								<th>Seat</th>

							</tr>
						</thead>
						<tbody ng-repeat="pax in getPaxSpecificList($index)" style="font-size: 14px;">
							<!--  style="border-collapse:collapse;"  data-toggle="collapse" -->
							<tr>
								<td></td>
								<td ng-if="pax.ruleHits > 0" data-toggle="collapse"
									data-target="#nestedRule{{pax.lastName+$index}}"
									aria-expanded="false" aria-controls="nestedRule{{$index}}"
									style="cursor: pointer;" ng-click="getRuleHits(pax.paxId);">

									<span class="glyphicon glyphicon-flag glyphiconFlightPax"
									style="padding: 1.5px; color: #d9534f;"></span>

									

								</td>
								<td ng-if="pax.ruleHits === 0"><span
									class="glyphicon glyphicon-flag glyphiconFlightPax"
									style="padding: 1.5px; color: #007500;"></span></td>
								<td><span class="glyphicon glyphicon-flag glyphiconFlightPax"
									style="padding: 1.5px; color: #007500;"></span></td>
								<td>{{pax.lastName}}</td>
								<td>{{pax.firstName}}</td>
								<td>{{pax.middleName}}</td>
								<td>{{pax.paxType}}</td>
								<td>{{pax.gender}}</td>
								<td>{{pax.dob}}</td>
								<td>{{pax.citizenship}}</td>
								<td>{{pax.documents[0].documentNumber}}</td>
								<td>{{pax.documents[0].documentType}}</td>
								<td>{{pax.documents[0].issuanceCountry}}</td>
								<td>59B</td>
							</tr>
							<!-- Hidden Row -->
						<tr class="accordian-body collapse md-12-col"
										id="nestedRule{{pax.lastName+$index}}">
										<td colspan="16">
										<div class="md-12-col">
								<table id="paxRuleTable" show-filter="false"
											class="table table-condensed table-hover">
											<thead>
												<tr>
													<th>ID</th>
													<th>Title</th>
													<th>Description</th>
													
												</tr>
											</thead>
											<tbody>
																								
												<tr ng-repeat="hitDetail in paxHitList">
													<td>{{hitDetail.ruleId}}</td>
													<td>
														<ol style="list-style-type: none;">
															<li>{{hitDetail.ruleConditions}}</li>
															
														</ol>
													</td>
													<td></td>
												</tr>
												
												
											</tbody>
										</table>
						</div>
										</td>
										</tr>
						

						</tbody>

					</table>

				</div> <!-- 		</td> --> <!-- 	</tr> 
            	</table> --> <!-- 	</div> -->

			</td>

		</tr>


	</tbody>
</table>

</div> <!-- outer div -->

<script type="text/ng-template" id="custom/pager">
        <ul class="pager ng-cloak">
            <li ng-repeat="page in pages"
                ng-class="{'disabled': !page.active, 'previous': page.type == 'prev', 'next': page.type == 'next'}"
                ng-show="page.type == 'prev' || page.type == 'next'" ng-switch="page.type">
                <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo; Previous</a>
                <a ng-switch-when="next" ng-click="params.page(page.number)" href="">Next &raquo;</a>
            </li>
            <li>
                <div class="btn-group">
                    <button type="button" ng-class="{'active':params.count() == 10}" ng-click="params.count(10)" class="btn btn-default">10</button>
                    <button type="button" ng-class="{'active':params.count() == 25}" ng-click="params.count(25)" class="btn btn-default">25</button>
                    <button type="button" ng-class="{'active':params.count() == 50}" ng-click="params.count(50)" class="btn btn-default">50</button>
                    <button type="button" ng-class="{'active':params.count() == 100}" ng-click="params.count(100)" class="btn btn-default">100</button>
                </div>
            </li>
        </ul>
    </script>

