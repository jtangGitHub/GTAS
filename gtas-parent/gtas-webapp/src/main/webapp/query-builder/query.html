<style>
    .table .glyphicon-pencil{
        left: -1em;
        transform: scaleX(-1);
        margin-right: -.75em;
        top: -.25em;
    }
    h1,h2 {
        font-size: 1em;
        text-transform: uppercase;
        font-weight: bold;
    }
    form {

    }
    input[placeholder="Title:"] {
        width: 60%;
    }
    input[placeholder="Description:"] {
        width: 100%;
    }

    input[placeholder="Start Date:"],
    input[placeholder="End Date:"],
    label[for="enabled"] {
        width: 6em;
    }
    .udr-add-form label.hide {
        position: absolute;
        left: -99999px;
    }
    .udr-add-form input {
        display: inline-block;
    }

    .table thead th:hover,
    .table tbody tr:hover {
        cursor: pointer;
    }

    .table tbody tr:nth-child(odd) {
        background: rgba(245,245,255,0.5);
    }
    /* temporary highlighting the only 3 entities we support currently */
    .entity-name ul li:nth-child(4),
    .entity-name ul li:nth-child(6),
    .entity-name ul li:nth-child(9) {
        background: rgba(30,200,200, 0.2);
    }
    @keyframes fadeOut
    {
        from { opacity: 1.0; }
        to { opacity: 0.0; }
    }

    @-webkit-keyframes fadeOut
    {
        from { opacity: 1.0 }
        to { opacity: 0.0 }
    }

    .fade-out
    {
        animation: fadeOut 2s infinite;
        -webkit-animation: fadeOut 2s infinite;
    }
</style>
<section class="qb-interface">
    <h1>Query Builder:</h1>
    <button data-ng-click="newRule()" class="btn btn-xs btn-primary pull-right" data-add="rule">New Rule</button>
    <!--
    <button data-ng-click="tableParams.sorting({})" class="btn btn-xs btn-default pull-right">Clear sorting</button>
    <button data-ng-click="tableParams.filter({})" class="btn btn-xs btn-default pull-right">Clear filter</button>
    //-->
    <table ng-table="tableParams" class="table">
        <tr ng-repeat="obj in $data" data-id="{{summary.id}}" data-ng-click="loadRule()">
            <td data-title="'Title'" sortable="'title'" filter="{ 'title': 'text' }">
                <i ng-show="isBeingEdited()" class="glyphicon glyphicon-pencil" title="Editing this rule"></i>
                {{obj.title}}
            </td>
            <td data-title="'Description'" sortable="'description'" filter="{ 'description': 'text' }">
                {{obj.description}}
            </td>
            <!--<td data-title="'Created Date'" sortable="'createdDate'" filter="{ 'createdDate': 'text' }">-->
            <!--{{obj.createdDate}}-->
            <!--</td>-->
        </tr>
    </table>

    <h2>Summary:</h2>
    <label for="title" class="hide">Title:</label>
    <input title="Title" placeholder="Title:" type="text" ng-model="title" id="title" maxlength="20" />
    <label for="description" class="hide">Description:</label>
    <input title="Description" type="text" ng-model="description" id="description" placeholder="Description:" maxlength="100" />

    <h2>Conditions:</h2>
    <div id="builder"></div>
    <select ng-model="viewType">
        <option value="FLIGHT"> Flight </option>
        <option value="PASSENGER"> Passenger </option>
    </select>
    <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)" ng-class="{'fade-out': alert.expired}">{{alert.msg}}</alert>
    <button type="button" data-ng-click="viewTypeChange()"  class="btn btn-xs btn-primary" data->Execute Query</button>
    <button type="button" data-ng-click="resetQueryBuilder()" class="btn btn-xs btn-primary reset pull-right" data->Clear Conditions</button>
    <button type="button" data-ng-click="delete()" type="button" class="btn btn-xs btn-primary pull-right" title="delete">Delete</button>
    <button type="button" data-ng-click="save()" id="submit" class="btn btn-xs btn-primary pull-right">Save</button>
</section>
<section class="flights-table">
    <table ng-table="flightsResults" show-filter="true" class="table">
        <tr ng-repeat="flight in dataSource.FLIGHT">
            <!--        <td data-title="'Hits'" sortable="'hits'" filter="{ 'hits': 'number' }">{{flight.hits}}</td> //-->
            <td data-title="'Carrier'" sortable="'carrierCode'" filter="{ 'carrierCode': 'select' }" filter-data="values($column, 'carrierCode')">{{flight.carrierCode}}</td>
            <td data-title="'Flight #'" sortable="'flightNumber'" filter="{ 'flightNumber': 'text' }">{{flight.flightNumber}}</td>
            <td data-title="'Origin Airport'" sortable="'origin'" filter="{ 'origin': 'select' }" filter-data="values($column, 'origin')">{{flight.origin}}</td>
            <td data-title="'Country'" sortable="'originCountry'" filter="{ 'originCountry': 'select' }" filter-data="values($column, 'originCountry')">{{flight.originCountry}}</td>
            <td data-title="'ETD'" sortable="'departureDt'" filter="{ 'departureDt': 'text' }">{{flight.departureDt}}</td>
            <td data-title="'Destination'" sortable="'destination'" filter="{ 'destination': 'select' }" filter-data="values($column, 'destination')">{{flight.destination}}</td>
            <td data-title="'Country'" sortable="'destinationCountry'" filter="{ 'destinationCountry': 'select' }"
                filter-data="values($column, 'destinationCountry')">{{flight.destinationCountry}}</td>
            <td data-title="'ETA'" sortable="'arrivalDt'" filter="{ 'arrivalDt': 'text' }">{{flight.arrivalDt}}</td>
        </tr>
    </table>
</section>
<section class="travelers-table">
    <table ng-table="travelersResults" show-filter="true" class="table">
        <tr ng-repeat="passenger in dataSource.TRAVELER">
            <td data-title="'H'" sortable="'ruleHit'" filter="{ 'ruleHit': 'text' }">{{passenger.ruleHit}}</td>
            <td data-title="'W'" sortable="'onWatchList'" filter="{ 'onWatchList': 'text' }">{{passenger.onWatchList}}</td>
            <td data-title="'Last Name'" sortable="'lastName'" filter="{ 'lastName': 'text' }">{{passenger.lastName}}</td>
            <td data-title="'First Name'" sortable="'firstName'" filter="{ 'firstName': 'text' }">{{passenger.firstName}}</td>
            <td data-title="'Type'" sortable="'passengerType'" filter="{ 'passengerType': 'select' }" filter-data="values($column, 'Type')">{{passenger.passengerType}}</td>
            <td data-title="'Gender'" sortable="'gender'" filter="{ 'gender': 'select' }" filter-data="values($column, 'gender')">{{passenger.gender}}</td>
            <td data-title="'DOB'" sortable="'dob'" filter="{ 'dob': 'text' }">{{passenger.dob}}</td>
            <td data-title="'Citizenship'" sortable="'citizenship'" filter="{ 'citizenship': 'select' }" filter-data="values($column, 'citizenship')">{{passenger.citizenship}}</td>
            <td data-title="'Document Number'" sortable="'documentNumber'" filter="{ 'documentNumber': 'text' }">{{passenger.documentNumber}}</td>
            <td data-title="'T'" sortable="'documentType'" filter="{ 'documentType': 'select' }" filter-data="values($column, 'documentType')">{{passenger.documentType}}</td>
            <td data-title="'Issuance Country'" sortable="'documentIssuanceCountry'" filter="{ 'documentIssuanceCountry': 'select' }" filter-data="values($column, 'documentIssuanceCountry')">{{passenger.documentIssuanceCountry}}</td>
            <td data-title="'Seat'" sortable="'seat'" filter="{ 'seat': 'text' }">{{passenger.seat}}</td>
        </tr>
    </table>
</section>
